<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!--ios build server-->
  <!--only touch the iOS server when building an .ipa-->
  <PropertyGroup Condition="
    '$(iosServerAddress)'!='' AND 
    '$(iosServerUser)'!='' AND 
    '$(iosServerPassword)'!='' AND
    $(IsMobileAppPlatform)
  ">
    <ServerAddress>$(iosServerAddress)</ServerAddress>
    <ServerUser>$(iosServerUser)</ServerUser>
    <ServerPassword>$(iosServerPassword)</ServerPassword>
  </PropertyGroup>

  <!--test-->
  <PropertyGroup Condition="'$(IsTest)'=='true'">
    <!--only copy local when building test-->
    <PrivateReference>True</PrivateReference>
  </PropertyGroup>
  
  <!--
  
    IsMobileLibraryProject ItemGroups & Properties
      declare self-references outside of .csproj to prevent VS solution explorer from creating artifacts
  -->

  <!--Nuget Pack-->
  <ItemGroup Condition="$(IsMobileLibraryProject) AND '$(Plat)' == '$(PackLeafPlatformId)' ">
    <SelfReference Include="$(MobilePlatformId)" />
  </ItemGroup>

  <!--Nuget Unpack-->
  <ItemGroup Condition="$(IsMobileLibraryProject) AND '$(Plat)' == '$(UnpackLeafPlatformId)' ">
    <SelfReference Include="$(PackLeafPlatformId)" />
  </ItemGroup>

  <!--Part ([platform].part)-->
  <ItemGroup Condition="$(IsMobileLibraryProject) AND '$(IsPartPlatform)' == 'true' ">
    <SelfReference Include="$(PortableLibraryPlatformId)" />
  </ItemGroup>

</Project>